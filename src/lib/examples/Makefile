gall: examples manual-smoke-test

examples:
	mkdir -p build/
	gcc -g -rdynamic -O2 -o build/unique-file-lines unique-file-lines.c
	gcc -g -rdynamic -O2 -o build/sort-lines sort-lines.c
	gcc -g -rdynamic -O2 -o build/line-histogram line-histogram.c
	gcc -g -rdynamic -o build/unique-line-generator unique-line-generator.c
	gcc -g -rdynamic -o build/code-points code-points.c
	gcc -g -rdynamic -o build/terminal-input terminal-input.c
	#gcc -g -rdynamic -o build/travel travel.c
	#gcc -g -rdynamic -o build/travel-gemini travel-gemini.c
	#gcc -g -rdynamic -o build/travel-mixed travel-mixed.c

manual-smoke-test: examples
	@echo "================================================================="
	@echo "            unique-file-lines                                    "
	@echo "================================================================="
	build/unique-file-lines testdata/sample.txt 
	@echo "================================================================="
	@echo "            sort-lines                                           "
	@echo "================================================================="
	build/sort-lines testdata/sample.txt 
	@echo "================================================================="
	@echo "            line-histogram                                       "
	@echo "================================================================="
	build/line-histogram testdata/sample.txt 
	@echo "================================================================="
	@echo "            unique-line-generator                                "
	@echo "================================================================="
	build/unique-line-generator --max-number=1000000 --number-of-lines=5
	@echo "================================================================="
	@echo "            code-points                                          "
	@echo "================================================================="
	cat UTF-8-tests-minus-56.txt | build/code-points | md5sum
	@echo
	@echo "Should be the same as..."
	@echo
	cat UTF-8-tests-minus-56.txt | iconv -f UTF-8 -t UCS-4 | xxd -p -c 4 | md5sum
	@echo
	@echo "================================================================="
	@echo "            Autogenerated Flags                                  "
	@echo "================================================================="
	build/unique-file-lines --help || true
	build/sort-lines --help || true
	build/line-histogram --help || true
	build/unique-line-generator --help || true
	build/code-points --help || true

clean:
	rm -rf build *~

